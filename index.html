<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday My Love ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
  body { margin:0; height:100vh; background:linear-gradient(to bottom,#ff758c,#ff7eb3); overflow:hidden; font-family:'Dancing Script', cursive; }

  /* Countdown */
  #countdown { position:absolute; top:45%; left:50%; transform:translate(-50%,-50%); font-size:6em; color:white; text-shadow:0 0 20px #ff4081,0 0 40px #ff80ab; z-index:10; }

  /* Fireworks canvas */
  #fireworks { position:absolute; top:0; left:0; width:100%; height:100%; z-index:5; pointer-events:none; }

  /* Title & Subtitle */
  .title { position:absolute; top:8%; width:100%; text-align:center; font-size:4em; color:white; text-shadow:0 0 10px #ff4081,0 0 20px #ff80ab; z-index:3; opacity:0; transition:opacity 1s; }
  .subtitle { position:absolute; top:23%; width:100%; text-align:center; font-size:1.6em; color:#fff5f5; font-weight:500; z-index:3; opacity:0; transition:opacity 1s; }

  /* Slideshow */
  .slideshow { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:2; }
  .slideshow img { max-width:280px; max-height:280px; display:none; border-radius:20px; box-shadow:0 0 25px rgba(0,0,0,0.4); }
  .slideshow img.active { display:block; }

  /* Photo columns */
  .photo-slot { position:absolute; width:160px; height:160px; border-radius:20px; overflow:hidden; animation:sway 3s ease-in-out infinite alternate; }
  .photo-slot img { width:100%; height:100%; object-fit:cover; }
  @keyframes sway { from {transform:translateY(0px);} to {transform:translateY(10px);} }

  /* Tiny dark red hearts after slideshow */
  .heart { position:absolute; width:15px; height:15px; background:darkred; transform:rotate(-45deg); border-radius:3px; animation:floatHearts 6s linear infinite; }
  .heart::before, .heart::after { content:""; position:absolute; width:15px; height:15px; background:darkred; border-radius:50%; }
  .heart::before { top:-7px; left:0; } .heart::after { left:7px; top:0; }
  @keyframes floatHearts { 0% {transform:translateY(0) scale(0.8) rotate(-45deg); opacity:1;} 100% {transform:translateY(-100vh) scale(1.2) rotate(-45deg); opacity:0;} }

  /* Love message */
  .love-message { position:absolute; top:55%; left:50%; transform:translate(-50%,-50%) scale(0.8); font-size:2.2rem; text-align:center; color:#fff5f5; text-shadow:0 0 12px rgba(255,64,129,.7); opacity:0; z-index:4; transition:opacity 1s ease, transform 1s ease; }
  .love-message.show { opacity:1; transform:translate(-50%,-50%) scale(1); }

  /* Big glowing heart */
  .big-heart { position:absolute; top:55%; left:50%; width:200px; height:200px; background:rgba(255,0,64,0.6); transform:translate(-50%,-50%) rotate(-45deg); z-index:1; opacity:0; animation:pulseHeart 2s infinite alternate; }
  .big-heart::before, .big-heart::after { content:""; position:absolute; width:200px; height:200px; background:rgba(255,0,64,0.6); border-radius:50%; }
  .big-heart::before { top:-100px; left:0; } .big-heart::after { left:100px; top:0; }
  @keyframes pulseHeart { from {transform:translate(-50%,-50%) rotate(-45deg) scale(0.9); opacity:0.5;} to {transform:translate(-50%,-50%) rotate(-45deg) scale(1.1); opacity:1;} }
</style>
</head>
<body>

<!-- Countdown -->
<div id="countdown">5</div>

<!-- Fireworks -->
<canvas id="fireworks"></canvas>

<!-- Title & Subtitle -->
<div class="title" id="title">Happy Birthday My Love ‚ù§Ô∏è</div>
<div class="subtitle" id="subtitle">You make my world magical ‚ú®</div>

<!-- Slideshow -->
<div class="slideshow" id="slideshow">
  <img src="photo1.jpeg">
  <img src="photo2.jpeg">
  <img src="photo3.jpeg">
  <img src="photo4.jpeg">
  <img src="photo5.jpeg">
  <img src="photo6.jpeg">
</div>

<!-- Love message -->
<div class="love-message" id="loveMessage">
  My heart belongs to you forever üíû<br>
  You are my happiest place ‚ù§Ô∏è
</div>

<!-- Big heart -->
<div class="big-heart" id="bigHeart"></div>

<script>
const countdownEl = document.getElementById("countdown");
const fwCanvas = document.getElementById("fireworks");
const ctx = fwCanvas.getContext("2d");
fwCanvas.width = innerWidth;
fwCanvas.height = innerHeight;

let count = 5;
let particles = [];

// Countdown first
let counter = setInterval(()=>{
  countdownEl.innerText = count;
  if(count===0){
    clearInterval(counter);
    countdownEl.style.display="none";
    launchFireworks(); // After countdown ends, launch fireworks
  }
  count--;
});

// Fireworks
function launchFireworks(){
  for(let i=0;i<120;i++){
    particles.push({x:fwCanvas.width/2,y:fwCanvas.height/2,vx:(Math.random()-0.5)*15,vy:(Math.random()-0.5)*15,life:100});
  }
  animateFireworks();
}
function animateFireworks(){
  ctx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
  particles.forEach((p,i)=>{
    p.x+=p.vx; p.y+=p.vy; p.life--;
    ctx.fillStyle="hsl("+Math.random()*360+",100%,50%)";
    ctx.fillRect(p.x,p.y,4,4);
    if(p.life<=0) particles.splice(i,1);
  });
  if(particles.length>0) requestAnimationFrame(animateFireworks);
  else {
    fwCanvas.style.display="none";
    document.getElementById("title").style.opacity=1;
    document.getElementById("subtitle").style.opacity=1;
    setTimeout(startSlideshow,500); // Start slideshow after fireworks
  }
}

// Slideshow
const slides = document.querySelectorAll("#slideshow img");
let currentSlide = 0;
function startSlideshow(){ slides[currentSlide].classList.add("active"); setTimeout(showNextSlide,2000); }
function showNextSlide(){ 
  slides[currentSlide].classList.remove("active"); 
  currentSlide++; 
  if(currentSlide<slides.length){ 
    slides[currentSlide].classList.add("active"); 
    setTimeout(showNextSlide,2000); 
  } else { 
    moveToColumns(); 
  } 
}

// Columns for 6 photos
function moveToColumns(){
  document.getElementById("slideshow").style.display="none";
  const positions = [
    {top:"30%", left:"10%"}, {top:"50%", left:"10%"}, {top:"70%", left:"10%"},
    {top:"30%", left:"75%"}, {top:"50%", left:"75%"}, {top:"70%", left:"75%"}
  ];
  slides.forEach((img,i)=>{
    let slot=document.createElement("div");
    slot.className="photo-slot";
    slot.style.top=positions[i].top;
    slot.style.left=positions[i].left;
    slot.appendChild(img.cloneNode(true));
    document.body.appendChild(slot);
  });
  setTimeout(()=>{
    document.getElementById("loveMessage").classList.add("show");
    document.getElementById("bigHeart").style.opacity=1;
    fillBackgroundHearts();
  },1000);
}

// Tiny dark red hearts after slideshow
function fillBackgroundHearts(){
  for(let i=0;i<50;i++){
    let heart=document.createElement("div");
    heart.className="heart";
    heart.style.left=Math.random()*100+"vw";
    heart.style.top=Math.random()*100+"vh";
    heart.style.animationDuration=(4+Math.random()*4)+"s";
    document.body.appendChild(heart);
  }
}
</script>
</body>
</html>
